{"id":"b803bbdd-79b9-48f1-b06a-5d5e85442608","entity_type":"standard","agent":"cli","timestamp":"2026-01-17T20:03:50.291438608Z","data":{"entity":{"agent":"cli","category":"process","created_at":"2026-01-17T20:03:50.291438608Z","description":"Comprehensive coding standards, best practices, and development workflows for DOTS Family Mode based on existing codebase patterns and Rust community standards","effective_date":"2026-01-17T20:03:50.291437992Z","id":"b803bbdd-79b9-48f1-b06a-5d5e85442608","requirements":[{"description":"Use Nix development shell (nix develop), verify IN_NIX_SHELL environment variable is set, install direnv for automatic shell activation (.envrc with 'use flake'), and configure development tools within Nix environment","evidence_required":false,"id":"b43a1573-4c69-4fc9-ac6b-5cb021380d23","mandatory":true,"priority":"critical","title":"Development Environment Setup","validation_criteria":[]},{"description":"Follow workspace structure with crates (common, proto, daemon, monitor, etc.), use shared dependencies from workspace Cargo.toml, implement proper module organization (lib.rs exports, src/mod.rs for submodules), and maintain clear separation of concerns","evidence_required":false,"id":"f2de03b1-8068-42ad-a3b1-0d21259ee646","mandatory":true,"priority":"high","title":"Crate Architecture Patterns","validation_criteria":[]},{"description":"Use tokio::main for async applications, implement proper async/await patterns, use tokio primitives (mpsc, oneshot, broadcast), handle cancellation with CancellationToken, avoid blocking operations in async contexts, and use tokio::time for time-based operations","evidence_required":false,"id":"c1fa2384-c558-4048-a3dc-c80d12109b06","mandatory":true,"priority":"high","title":"Async Programming Standards","validation_criteria":[]},{"description":"Use zbus 4.0 for all DBus operations, implement async DBus interfaces, use session bus for user-scoped services, follow org.dots.* naming convention, implement proper error handling for DBus failures, and use DBus introspection for debugging","evidence_required":false,"id":"7c21b84a-f988-4dc4-abe4-f9681b3f1fc2","mandatory":true,"priority":"high","title":"DBus Integration Standards","validation_criteria":[]},{"description":"Use sqlx with compile-time checked queries, implement database migrations in migrations/ directory, use transactions for multi-step operations, handle database connection pooling properly, encrypt sensitive data with secrecy crate, and implement proper error recovery","evidence_required":false,"id":"315525c0-67dc-4704-a4ab-2cb44ffb28fb","mandatory":true,"priority":"high","title":"Database Operations Standards","validation_criteria":[]},{"description":"Use zeroize for sensitive data cleanup, implement Argon2 for password hashing, use ring for cryptographic operations, handle secrets with secrecy crate, implement proper input validation and sanitization, follow principle of least privilege, and audit all unsafe code blocks","evidence_required":false,"id":"9603f9c7-3957-4947-bbbd-eacfb1255b4f","mandatory":true,"priority":"critical","title":"Security Implementation Standards","validation_criteria":[]}],"status":"draft","title":"Developer Guidelines","updated_at":"2026-01-17T20:04:37.456249250Z","version":"1.0"}},"content_hash":"3e414619ce40a5dba33dcb98b18db0b3a0111eed3da40ab268b9418918b3f74b","size_bytes":3143,"tags":[],"references":[],"metadata":{}}